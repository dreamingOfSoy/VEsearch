{"mappings":"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","sources":["src/config.js","src/helper.js","src/model.js"],"sourcesContent":["export const baseURL =\n  'https://api.edamam.com/api/recipes/v2?type=public&app_id=64090b3f&app_key=863ec5c1694689e9e7474e4a313d6ed5&health=vegan';\n\nexport const TIMEOUT_SEC = 1;\n","import { TIMEOUT_SEC } from './config';\n\nconst timeout = function (s = TIMEOUT_SEC) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(\n        new Error(\n          `Request took too long! Timeout after ${s} second. <br/> Please try again...`\n        )\n      );\n    }, s * 1000);\n  });\n};\n\nexport const getJSON = async function (url) {\n  try {\n    const res = await Promise.race([fetch(url), timeout(TIMEOUT_SEC)]);\n    const data = await res.json();\n    if (!res.ok)\n      throw new Error(`Bad Request: ${data.message} (Status:${res.status})`);\n    return data;\n  } catch (err) {\n    throw err;\n  }\n};\n","import { baseURL } from './config';\nimport { getJSON } from './helper';\n\nconst state = {\n  search: {\n    query: '',\n    results: [],\n  },\n  recipe: {},\n};\n\nif (module.hot) {\n  module.hot.accept();\n}\n\n// ***************************** //\n// LOAD RESULTS AND DISPLAY THEM\n// ***************************** //\n\nconst loadRecipeResults = async function (query) {\n  try {\n    resultsSection.classList.remove('nodisplay');\n    renderLoadingIcon(recipeContainer);\n\n    const data = await getJSON(`${baseURL}&q=${query}`);\n    const { hits } = data;\n    state.search.query = query;\n    state.search.results = hits.map(hit => {\n      return {\n        id: hit._links.self.href.slice(38, 70),\n        title: hit.recipe.label,\n        publisher: hit.recipe.source,\n        imgURL: hit.recipe.image,\n      };\n    });\n    console.log(hits);\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst searchBtn = document.querySelector('.search-button');\nconst searchInput = document.querySelector('.search-input');\nconst resultsSection = document.querySelector('.recipe-results-section');\nconst resultsBox = document.querySelector('.recipe-results');\nconst recipeContainer = document.querySelector('.recipe-container');\nconst rightArrow = document.querySelector('.right-arrow');\nconst leftArrow = document.querySelector('.left-arrow');\n\nlet width;\n\nconst renderLoadingIcon = function (parentEl) {\n  const markup = `\n  <div class=\"dot-pulse\">\n    <div class=\"dot\"></div>\n    <div class=\"dot\"></div>\n    <div class=\"dot\"></div>\n  </div>`;\n\n  parentEl.innerHTML = '';\n  parentEl.insertAdjacentHTML('afterbegin', markup);\n};\n\nconst renderErrorMsg = function (\n  parentEl,\n  message = 'Recipe failed to load, try refreshing the page...'\n) {\n  const markup = `\n    <div div class=\"error\">\n        <p class=\"error-msg\">\n          ${message}\n        </p>    \n     </div>\n`;\n\n  parentEl.innerHTML = '';\n  parentEl.insertAdjacentHTML('afterbegin', markup);\n};\n\nconst showSearchResults = async function () {\n  try {\n    await loadRecipeResults(searchInput.value);\n\n    if (searchInput.value === '')\n      throw new Error('Please enter something in the search field above!');\n\n    recipeContainer.innerHTML = '';\n\n    state.search.results.forEach(result =>\n      recipeContainer.insertAdjacentHTML('beforeend', generateMarkup(result))\n    );\n    searchInput.value = '';\n    width = resultsBox.clientWidth + 4 - 20;\n\n    resultsBox.addEventListener('click', function (e) {\n      const allResults = document.querySelectorAll('.results-box');\n      allResults.forEach(box => box.classList.remove('results-box--active'));\n      e.target.closest('.results-box').classList.add('results-box--active');\n    });\n  } catch (err) {\n    renderErrorMsg(recipeContainer, err.message);\n  }\n};\n\nconst generateMarkup = recipe => `\n        <a class=\"results-box\" href=\"#${recipe.id}\">\n        <div class=\"result\" >\n          <div class=\"img\">\n            <img\n              src=\"${recipe.imgURL}\"\n              alt=\"Professional photograph of ${recipe.title}\"\n              class=\"recipe-results-img\"\n            />\n          </div>\n          <span class=\"result-title\">${recipe.title}</span>\n          <span class=\"recipe-company result-company\">${recipe.publisher}\n          </span>\n          </div>\n        </a>\n    `;\n\nlet currentSlide = 0;\n\nconst slideResultsLeft = function () {\n  if (currentSlide < state.search.results.length - 4) {\n    currentSlide++;\n    recipeContainer.style.transform = `translateX(-${\n      currentSlide * (width / 4)\n    }px)`;\n  }\n};\n\nconst slideResultsRight = function () {\n  if (currentSlide > 0) {\n    currentSlide--;\n    recipeContainer.style.transform = `translateX(-${\n      currentSlide * (width / 4)\n    }px)`;\n  }\n};\n\nconst pressEnterKey = e => {\n  if (e.keyCode === 13) {\n    showSearchResults();\n  }\n};\n\nsearchBtn.addEventListener('click', showSearchResults);\nsearchInput.addEventListener('keydown', pressEnterKey);\nrightArrow.addEventListener('click', slideResultsLeft);\nleftArrow.addEventListener('click', slideResultsRight);\n\n// ***************************** //\n// LOAD RECIPE AND DISPLAY IT\n// ***************************** //\n\nconst recipeListing = document.querySelector('.recipe-listing-section');\n\nconst recipeListingContainer = document.querySelector(\n  '.recipe-listing-container'\n);\n\nconst recipeFooterSection = document.querySelector('.source-link-section');\n\nconst loadRecipe = async function (id) {\n  try {\n    recipeListing.classList.remove('nodisplay');\n    renderLoadingIcon(recipeListingContainer);\n\n    const data = await getJSON(\n      `https://api.edamam.com/api/recipes/v2/${id}?type=public&app_id=64090b3f&app_key=863ec5c1694689e9e7474e4a313d6ed5`\n    );\n\n    const { recipe } = data;\n\n    state.recipe = {\n      id: recipe.uri,\n      title: recipe.label,\n      publisher: recipe.source,\n      imgURL: recipe.image,\n      sourceUrl: recipe.url,\n      servings: recipe.yield,\n      ingredients: recipe.ingredients,\n      nutrition: recipe.totalDaily,\n      amountInGrams: recipe.digest,\n      calories: recipe.calories,\n    };\n  } catch (err) {\n    console.error(err);\n    throw err;\n  }\n};\n\nconst showRecipe = async function () {\n  try {\n    const id = window.location.hash.slice(1);\n\n    if (!id) return;\n\n    await loadRecipe(id);\n\n    recipeFooterSection.classList.remove('nodisplay');\n    recipeListingContainer.innerHTML = '';\n    recipeFooterSection.innerHTML = '';\n\n    state.recipe.ingredients.forEach(ing => {\n      if (ing.quantity.toString().slice(0, 3) === '0.3') ing.quantity = '1/3';\n      if (ing.quantity.toString().slice(0, 4) === '0.25') ing.quantity = '1/4';\n      if (ing.quantity.toString().slice(0, 3) === '0.5') ing.quantity = '1/2';\n      if (ing.quantity.toString().slice(0, 4) === '0.75') ing.quantity = '3/4';\n    });\n\n    recipeListingContainer.insertAdjacentHTML(\n      'afterbegin',\n      generateRecipeMarkup(state.recipe)\n    );\n\n    recipeFooterSection.insertAdjacentHTML(\n      'afterbegin',\n      generateFooterMarkup(state.recipe)\n    );\n  } catch (err) {\n    // console.error(err);\n    renderErrorMsg(recipeListingContainer);\n  }\n};\n\nconst generateRecipeMarkup = recipe => `\n\n      <div class=\"recipe-img-box\">\n      <img class=\"listing-img\" src=\"${recipe.imgURL}\"> \n      </div>\n\n      <h2 class=\"recipe-title\">${recipe.title}</h2>\n\n      <div class=\"recipe-servings-box\">\n        <button class=\"btn servings-button\" data-update-to=\"${\n          recipe.servings - 1\n        }\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"servings-icon\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z\"\n              clip-rule=\"evenodd\"\n            />\n          </svg>\n        </button>\n        <span class=\"num-servings quantity\">${recipe.servings} serving(s)</span>\n        <button class=\"btn servings-button\" data-update-to=\"${\n          recipe.servings + 1\n        }\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"servings-icon\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\"\n          >\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z\"\n              clip-rule=\"evenodd\"\n            />\n          </svg>\n        </button>\n      </div>\n\n       <div class=\"nutrition-info\">\n         <div class=\"nutrition-info-box\">\n          <h3>Nutritional Facts</h3>\n          <h4>(Estimated per serving)</h4>\n          <ul class=\"nooch-list\">\n            <li class=\"nooch-box\"><p        class=\"nooch-title\">Energy</p><p class= \"nooch-amount\">${(\n              recipe.calories / recipe.servings\n            ).toFixed(0)}g</p><p  class=\"nooch-perc\">${(\n  recipe.nutrition.ENERC_KCAL.quantity / recipe.servings\n).toFixed(0)}%</p></li>\n            <li class=\"nooch-box\"><p class=\"nooch-title\">Carb</p><p class= \"nooch-amount\">${(\n              Object.values(state.recipe.amountInGrams).find(\n                measure => measure.label === 'Carbs'\n              ).total / recipe.servings\n            ).toFixed(0)}${\n  Object.values(state.recipe.amountInGrams).find(\n    measure => measure.label === 'Carbs'\n  ).unit\n}</p><p class=\"nooch-perc\">${(\n  recipe.nutrition.CHOCDF.quantity / recipe.servings\n).toFixed(0)}%</p></li>\n            <li class=\"nooch-box\"><p class=\"nooch-title\">Fat</p><p class= \"nooch-amount\">${(\n              Object.values(state.recipe.amountInGrams).find(\n                measure => measure.label === 'Fat'\n              ).total / recipe.servings\n            ).toFixed(0)}${\n  Object.values(state.recipe.amountInGrams).find(\n    measure => measure.label === 'Fat'\n  ).unit\n}</p><p class=\"nooch-perc\">${(\n  recipe.nutrition.FAT.quantity / recipe.servings\n).toFixed(0)}%</p></li>\n            <li class=\"nooch-box\"><p class=\"nooch-title\">Saturates</p><p class= \"nooch-amount\">${(\n              Object.values(state.recipe.amountInGrams)\n                .find(measure => measure.label === 'Fat')\n                .sub.find(measure => measure.label === 'Saturated').total /\n              recipe.servings\n            ).toFixed(0)}${\n  Object.values(state.recipe.amountInGrams)\n    .find(measure => measure.label === 'Fat')\n    .sub.find(measure => measure.label === 'Saturated').unit\n}</p><p class=\"nooch-perc\">${(\n  recipe.nutrition.FASAT.quantity / recipe.servings\n).toFixed(0)}%</p></li>\n            <li class=\"nooch-box\"><p class=\"nooch-title\">Salt</p><p class= \"nooch-amount\">${(\n              Object.values(state.recipe.amountInGrams).find(\n                measure => measure.label === 'Sodium'\n              ).total / recipe.servings\n            ).toFixed(0)}${\n  Object.values(state.recipe.amountInGrams).find(\n    measure => measure.label === 'Sodium'\n  ).unit\n}</p><p class=\"nooch-perc\">${(\n  recipe.nutrition.NA.quantity / recipe.servings\n).toFixed(0)}%</p></li>\n          </ul>\n         </div>\n        </div>\n\n        <div class=\"ingredients-box\">\n\n        <h2 class=\"recipe-list-title\">Recipe Ingredients</h2>\n\n        <ul class=\"recipe-list\">\n          ${recipe.ingredients\n            .map(ing => {\n              return `\n            <li class=\"ing-item\">\n              <span class=\"ingredient\"\n                ><svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  class=\"ing-icon\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"currentColor\"\n                >\n                  <path\n                    d=\"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z\"\n                  />\n                </svg><span class=\"quantity\">\n                ${\n                  ing.quantity === 0 ? '' : ing.quantity.toString().slice(0, 4)\n                } ${\n                ing.measure === '<unit>' || ing.quantity === 0\n                  ? ''\n                  : `${ing.measure}(s)`\n              } ${ing.food.toLowerCase()}</span>\n              </span>\n            </li>\n          `;\n            })\n            .join('')}\n          </ul>\n        </div>\n      `;\n\nconst generateFooterMarkup = recipe => {\n  return `\n    <h2 class=\"source-link-title\">Want to cook this recipe?</h2>\n    <span class=\"source-link-desc\"\n      >This recipe was put together by\n      <span class=\"source-recipe-company\">${recipe.publisher}</span>. For\n      instructions on how to cook it, visit their website here:</span\n    >\n    <a href=\"${recipe.sourceUrl}\" class=\"source-link\"\n      ><button class=\"btn source-link-button\">Cook it!</button></a\n    >\n  `;\n};\n\n['hashchange', 'load'].forEach(ev => window.addEventListener(ev, showRecipe));\n\n// ***************************** //\n// UPDATE SERVINGS\n// ***************************** //\n\nconst updateServings = function (newServings) {\n  state.recipe.ingredients.forEach(ing => {\n    if (ing.quantity === '1/3') ing.quantity = 0.3333333333333333;\n    if (ing.quantity === '1/4') ing.quantity = 0.25;\n    if (ing.quantity === '1/2') ing.quantity = 0.5;\n    if (ing.quantity === '3/4') ing.quantity = 0.75;\n\n    ing.quantity = (ing.quantity * newServings) / state.recipe.servings;\n    // newQt = oldQt * newServings / oldServings // 4 = 2 * 8 / 4\n\n    state.recipe.ingredients.forEach(ing => {\n      if (ing.quantity.toString().slice(0, 3) === '0.3') ing.quantity = '1/3';\n      if (ing.quantity.toString().slice(0, 4) === '0.25') ing.quantity = '1/4';\n      if (ing.quantity.toString().slice(0, 3) === '0.5') ing.quantity = '1/2';\n      if (ing.quantity.toString().slice(0, 4) === '0.75') ing.quantity = '3/4';\n    });\n  });\n\n  console.log(state.recipe.ingredients);\n\n  state.recipe.servings = newServings;\n\n  const newMarkup = generateRecipeMarkup(state.recipe);\n\n  const newDOM = document.createRange().createContextualFragment(newMarkup);\n  const newElements = Array.from(newDOM.querySelectorAll('*'));\n  const curElements = Array.from(recipeListingContainer.querySelectorAll('*'));\n\n  newElements.forEach((newEl, i) => {\n    const curEl = curElements[i];\n\n    if (!newEl.isEqualNode(curEl) && newEl.classList.contains('quantity')) {\n      curEl.textContent = newEl.textContent;\n    }\n\n    if (!newEl.isEqualNode(curEl)) {\n      Array.from(newEl.attributes).forEach(attr =>\n        curEl.setAttribute(attr.name, attr.value)\n      );\n    }\n  });\n};\n\nrecipeListing.addEventListener('click', function (e) {\n  const servingsBtn = e.target.closest('.servings-button');\n  if (!servingsBtn) return;\n  const { updateTo } = servingsBtn.dataset;\n  if (+updateTo > 0) updateServings(+updateTo);\n});\n"],"names":["$624ad31b2549fc5a$var$timeout","s","Promise","_","reject","setTimeout","Error","$624ad31b2549fc5a$export$d047a7c56db64af4","async","url","res","race","fetch","data","json","ok","message","status","err","$d7fcaaa29d0ffaa7$var$state","search","query","results","recipe","$d7fcaaa29d0ffaa7$var$searchBtn","document","querySelector","$d7fcaaa29d0ffaa7$var$searchInput","$d7fcaaa29d0ffaa7$var$resultsSection","$d7fcaaa29d0ffaa7$var$resultsBox","$d7fcaaa29d0ffaa7$var$recipeContainer","$d7fcaaa29d0ffaa7$var$rightArrow","$d7fcaaa29d0ffaa7$var$leftArrow","$d7fcaaa29d0ffaa7$var$width","$d7fcaaa29d0ffaa7$var$renderLoadingIcon","parentEl","innerHTML","insertAdjacentHTML","$d7fcaaa29d0ffaa7$var$renderErrorMsg","markup","$d7fcaaa29d0ffaa7$var$showSearchResults","classList","remove","hits","map","hit","id","_links","self","href","slice","title","label","publisher","source","imgURL","image","console","log","$d7fcaaa29d0ffaa7$var$loadRecipeResults","value","forEach","result","$d7fcaaa29d0ffaa7$var$generateMarkup","clientWidth","addEventListener","e","querySelectorAll","box","target","closest","add","$d7fcaaa29d0ffaa7$var$currentSlide","keyCode","length","style","transform","$d7fcaaa29d0ffaa7$var$recipeListing","$d7fcaaa29d0ffaa7$var$recipeListingContainer","$d7fcaaa29d0ffaa7$var$recipeFooterSection","$d7fcaaa29d0ffaa7$var$showRecipe","window","location","hash","uri","sourceUrl","servings","yield","ingredients","nutrition","totalDaily","amountInGrams","digest","calories","error","$d7fcaaa29d0ffaa7$var$loadRecipe","ing","quantity","toString","$d7fcaaa29d0ffaa7$var$generateRecipeMarkup","$d7fcaaa29d0ffaa7$var$generateFooterMarkup","toFixed","ENERC_KCAL","Object","values","find","measure","total","unit","CHOCDF","FAT","sub","FASAT","NA","food","toLowerCase","join","ev","servingsBtn","updateTo","dataset","newServings","ing1","newMarkup","newDOM","createRange","createContextualFragment","newElements","Array","from","curElements","newEl","i","curEl","isEqualNode","contains","textContent","attributes","attr","setAttribute","name","$d7fcaaa29d0ffaa7$var$updateServings"],"version":3,"file":"index.5beda32d.js.map"}